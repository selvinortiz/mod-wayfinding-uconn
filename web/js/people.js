(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{427:function(e,t,s){"use strict";s.r(t);var r=s(111),l={props:{person:{type:Object,default:()=>{}}},computed:{theme(){return this.$store.state.app.theme},styles(){return{background:[`background-color: ${this.theme.cards.bg}`].join(";"),title:[`color: ${this.theme.colors.primary}`].join(";")}},role(){return this.person.personRoles?{title:this.person.personRoles[0].roleTitle,department:this.person.personRoles[0].roleDepartment[0].title}:{title:"",department:""}}}},o=s(5),a={metaInfo:{title:"People"},components:{PersonCard:Object(o.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"flex-1 flex p-4 cursor-pointer bg-white border border-gray-200 hover:bg-gray-200",style:e.styles.background,attrs:{to:{name:"person",params:{id:e.person.id}}}},[s("div",[s("h2",{staticClass:"font-semibold text-lg cursor-pointer uppercase",style:e.styles.title},[e._v("\n      "+e._s(e.person.personFirstName)+"\n      "+e._s(e.person.personLastName)+"\n    ")]),e._v(" "),s("p",{staticClass:"text-md cursor-pointer"},[e._v(e._s(e.role.title))]),e._v(" "),s("p",{staticClass:"text-sm cursor-pointer opacity-75 "},[e._v(e._s(e.role.department))])])])},[],!1,null,null,null).exports},data:()=>({loaded:{people:!1,departments:!1},filters:{letter:"",department:""},people:[],departments:[]}),created(){this.fetchPeople(),this.fetchDepartments()},computed:{theme(){return this.$store.state.app.theme},styles(){return{border:[`border-color: ${this.theme.colors.primary}`].join(";")}}},methods:{fetchPeople(e={}){this.loaded.people=!1,r.a.post("/actions/sys/wayfinding/people",e).then(e=>{e.data.success?this.people=e.data.people:this.people=[],this.loaded.people=!0}).catch(e=>console.error(e))},fetchDepartments(){this.loaded.departments=!1,r.a.post("/actions/sys/wayfinding/departments").then(e=>{e.data.success&&(this.departments=e.data.departments,this.loaded.departments=!0)}).catch(e=>console.error(e))},handleSelectedFilter(e,t){this.filters={...this.filters,[e]:t.target.value},this.$nextTick(()=>this.fetchPeople({filters:this.filters}))},alphabet(){for(var e=[],t=0;t<25;t++){var s=String.fromCharCode(65+t);e.push(s)}return e}}},n=Object(o.a)(a,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("content-loader",{attrs:{loaded:e.loaded.people&&e.loaded.departments,classes:"flex flex-wrap"}},[this.people.length?s("div",{staticClass:"w-full p-4 overflow-y-scroll overflow-x-hidden",staticStyle:{height:"60vh"}},[s("page-header",[e._v("Directory")]),e._v(" "),s("div",{staticClass:"flex flex-wrap -mx-2 xl:-mx-4"},e._l(e.people,function(e){return s("div",{key:e.id,staticClass:"w-1/2 sm:w-1/3 md:w-1/3 xl:w-1/4 xl:w-1/5 flex my-2 px-2 xl:my-4 xl:px-4"},[s("person-card",{attrs:{person:e}})],1)}),0)],1):s("div",{staticClass:"flex-1 flex items-center justify-center",staticStyle:{height:"65vh"}},[s("h1",{staticClass:"font-thin text-4xl text-center"},[e._v("\n      We did not find anyone matching your criteria.\n    ")])]),e._v(" "),s("div",{staticClass:"w-full flex justify-center items-center self-end px-4 border-t border-dotted border-gray-500",staticStyle:{height:"10vh"}},[s("select",{staticClass:"flex w-1/2 h-12 mt-1 mr-2 px-8 border-2",style:e.styles.border,domProps:{value:e.filters.letter},on:{input:function(t){return e.handleSelectedFilter("letter",t)}}},[s("option",{staticClass:"hidden",attrs:{value:"",disabled:"",selected:""}},[e._v("Filter by Last Initial")]),e._v(" "),e._l(e.alphabet(),function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2),e._v(" "),s("select",{staticClass:"flex w-1/2 h-12 mt-1 ml-2 px-8 border-2",style:e.styles.border,domProps:{value:e.filters.department},on:{input:function(t){return e.handleSelectedFilter("department",t)}}},[s("option",{staticClass:"hidden",attrs:{value:"",disabled:"",selected:""}},[e._v("Filter by Department")]),e._v(" "),e._l(e.departments,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.title))])})],2)])])},[],!1,null,null,null);t.default=n.exports}}]);